<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>goculator</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" />
        <script src="https://unpkg.com/htmx.org"></script>
        <script src="https://unpkg.com/hyperscript.org"></script>
        <script src="https://unpkg.com/htmx.org/dist/ext/sse.js"></script>
    </head>
    <body>
        <div class="bg-gray-200 w-screen h-screen flex justify-center items-center" >
            <div class="w-auto h-auto bg-white rounded-2xl shadow-xl border-4 border-gray-100">
                <div class="w-auto mx-3 my-2 h-6 flex justify-between">
                    <div class="text-sm" hx-ext="sse" sse-connect="/sse" sse-swap="time" hx-target="this"></div>
                    <div class="test-sm">goculator</div>
                </div>
                <form hx-post="/calc" hx-target="#result">
                    <div class="w-auto m-3 h-28 text-right space-y-2 py-2">
                        <input type="text" name="calc" id="calc" class="w-full block text-gray-700 text-right bg-gray-200 shadow-md rounded-md p-2 -ml-1 focus:ring-0 focus:ring-offset-0 outline-0" value="" />
                        <div class="text-black font-bold text-3xl" id="result"></div>
                    </div>

                    <div class="flex justify-center items-center">
                        <div class="w-64 m-1 h-auto mb-2">
                            <div class="m-2 flex justify-between">
                                <div class="bg-red-200 hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'cos('">cos</div>
                                <div class="bg-red-200 hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'sin('">sin</div>
                                <div class="bg-red-200 hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'tan('">tan</div>
                                <div class="bg-gray-200 hover:bg-orange-300 text-xs cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'deg2rad('">deg→<br/>rad</div>
                            </div>

                            <!-- Inverse Trigonometric and Hyperbolic Functions -->
                            <div class="m-2 flex justify-between">
                                <div class="bg-red-200 shadow-md hover:shadow-lg hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'acos('">acos</div>
                                <div class="bg-red-200 shadow-md hover:shadow-lg hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'asin('">asin</div>
                                <div class="bg-red-200 shadow-md hover:shadow-lg hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'atan('">atan</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg hover:bg-orange-300 text-xs cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'rad2deg('">rad→<br/>deg</div>
                            </div>

                            <!-- Basic Math Functions -->
                            <div class="m-2 flex justify-between">
                                <div class="bg-blue-200 shadow-md hover:shadow-lg hover:bg-blue-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'//'">÷ int</div>
                                <div class="bg-blue-200 shadow-md hover:shadow-lg hover:bg-blue-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'mod('">mod</div>
                                <div class="bg-blue-200 shadow-md hover:shadow-lg hover:bg-blue-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'exp('">exp</div>
                                <div class="bg-blue-200 shadow-md hover:shadow-lg hover:bg-blue-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'sqrt('">√</div>
                            </div>

                            <!-- Advanced Math Functions -->
                            <div class="m-2 flex justify-between">
                                <div class="bg-green-200 shadow-md hover:shadow-lg hover:bg-green-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'pow('">pow</div>
                                <div class="bg-green-200 shadow-md hover:shadow-lg hover:bg-green-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'log('">log</div>
                                <div class="bg-pink-200 shadow-md hover:shadow-lg hover:bg-pink-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'<<'">&lt;&lt;</div>
                                <div class="bg-pink-200 shadow-md hover:shadow-lg hover:bg-pink-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'>>'">&gt;&gt;</div>
                            </div>

                            <!-- Mathematical Utilities -->
                            <div class="m-2 flex justify-between">
                                <div class="bg-yellow-200 shadow-md hover:shadow-lg hover:bg-yellow-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'ceil('">ceil</div>
                                <div class="bg-yellow-200 shadow-md hover:shadow-lg hover:bg-yellow-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'floor('">floor</div>
                                <div class="bg-yellow-200 shadow-md hover:shadow-lg hover:bg-yellow-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'round('">round</div>
                                <div class="bg-yellow-200 shadow-md hover:shadow-lg hover:bg-yellow-300 cursor-pointer rounded-2xl w-12 h-12 flex justify-center items-center" _="on click set #calc.value to #calc.value+'abs('">abs</div>
                            </div>

                            <div class="flex justify-center mt-5">
                                <div class="w-20 h-1 bg-gray-100 rounded-l-xl rounded-r-xl"></div>
                            </div>
                        </div>

                        <div class="w-64 m-1 h-auto mb-2">
                            <div class="m-2 flex justify-between">
                                <div class="bg-yellow-100 shadow-md hover:shadow-lg hover:bg-yellow-200 cursor-pointer rounded-2xl w-12 h-12 text-yellow-600 font-medium flex justify-center items-center" _="on click set #calc.value to '' then set #result.innerHTML to ''">C</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'('">(</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+')'">)</div>
                                <div class="bg-yellow-500 shadow-md hover:shadow-lg hover:bg-yellow-600 cursor-pointer rounded-2xl w-12 h-12 text-white font-medium text-xl flex justify-center items-center" _="on click if #result.innerHTML != '' then set #calc.value to #result.innerHTML+'/' then set #result.innerHTML to '' else set #calc.value to #calc.value+'/' end ">/</div>
                            </div>
                            <div class="m-2 flex justify-between">
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'7'">7</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'8'">8</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'9'">9</div>
                                <div class="bg-yellow-500 shadow-md hover:shadow-lg hover:bg-yellow-600 cursor-pointer rounded-2xl w-12 h-12 text-white font-medium text-xl flex justify-center items-center" _="on click if #result.innerHTML != '' then set #calc.value to #result.innerHTML+'*' then set #result.innerHTML to '' else set #calc.value to #calc.value+'*' end ">x</div>
                            </div>
                            <div class="m-2 flex justify-between">
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'4'">4</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'5'">5</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'6'">6</div>
                                <div class="bg-yellow-500 shadow-md hover:shadow-lg hover:bg-yellow-600 cursor-pointer rounded-2xl w-12 h-12 text-white font-medium text-xl flex justify-center items-center" _="on click if #result.innerHTML != '' then set #calc.value to #result.innerHTML+'/-' then set #result.innerHTML to '' else set #calc.value to #calc.value+'-' end ">-</div>
                            </div>
                            <div class="m-2 flex justify-between">
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'1'">1</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'2'">2</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg   hover:bg-gray-300 cursor-pointer   rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'3'">3</div>
                                <div class="bg-yellow-500 shadow-md hover:shadow-lg hover:bg-yellow-600 cursor-pointer rounded-2xl w-12 h-12 text-white font-medium text-xl flex justify-center items-center" _="on click if #result.innerHTML != '' then set #calc.value to #result.innerHTML+'+' then set #result.innerHTML to '' else set #calc.value to #calc.value+'+' end ">+</div>
                            </div>
                            <div class="m-2 flex justify-between">
                                <div class="bg-gray-200 shadow-md hover:shadow-lg hover:bg-gray-300 cursor-pointer rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'0'">0</div>
                                <div class="bg-gray-200 shadow-md hover:shadow-lg hover:bg-gray-300 cursor-pointer rounded-2xl w-12 h-12 text-black font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value+'.'">.</div>
                                <div class="bg-red-200 shadow-md hover:shadow-lg hover:bg-red-300 cursor-pointer rounded-2xl w-12 h-12 text-red-600 font-medium flex justify-center items-center" _="on click set #calc.value to #calc.value.slice(0, -1)">←</div>

                                <button class="bg-green-500 shadow-md hover:shadow-lg hover:bg-green-600 cursor-pointer rounded-2xl w-12 h-12 text-white font-medium text-xl flex justify-center items-center">=</button>
                            </div>

                            <div class="flex justify-center mt-5">
                                <div class="w-20 h-1 bg-gray-100 rounded-l-xl rounded-r-xl"></div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <script>
            document.body.addEventListener("showMessage", function(evt){
                showNotification(evt.detail.level, evt.detail.message);
            })

            function showNotification(type, message) {
                let notification = document.createElement('div');
                let bgColor = '';

                switch(type){
                    case 'success':
                        bgColor = 'bg-green-500';
                        break;
                    case 'error':
                        bgColor = 'bg-red-500';
                        break;
                    case 'info':
                        bgColor = 'bg-blue-500';
                    case 'warning':
                        bgColor = 'bg-yellow-500';
                        break;
                    default:
                        bgColor = 'bg-gray-500';
                }

                notification.className = `fixed bottom-4 right-10 transform p-4 rounded shadow-lg z-50 ${bgColor} text-white text-sm`;
                notification.textContent = message;

                // Append to body
                document.body.appendChild(notification);

                // Remove after a certain time
                setTimeout(function() {
                    document.body.removeChild(notification);
                }, 3000);
            }


        </script>
    </body>
</html>